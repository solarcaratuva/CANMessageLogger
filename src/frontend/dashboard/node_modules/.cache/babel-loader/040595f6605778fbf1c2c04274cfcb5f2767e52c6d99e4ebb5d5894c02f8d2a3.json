{"ast":null,"code":"var _jsxFileName = \"/home/abraa/solarcar/CANMessageLogger/src/frontend/dashboard/src/components/html/DebugDashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport io from 'socket.io-client';\nimport Sortable from 'sortablejs';\nimport './DebugDashboard.css';\nimport { getLatestMessage, getTableNames, BACKEND_URL } from '../../services/flask';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DebugDashboard = () => {\n  _s();\n  const [tableNames, setTableNames] = useState([]);\n  const [checkedTables, setCheckedTables] = useState([\"MotorCommands\", \"DashboardCommands\"]);\n  const [tableMessages, setTableMessages] = useState({});\n  const [searchQuery, setSearchQuery] = useState('');\n  const [lastReceivedTime, setLastReceivedTime] = useState({});\n  const [lastTimeStamp, setLastTimeStamp] = useState({});\n  const socketRef = useRef(null);\n  const messageContainerRef = useRef(null);\n  const maxMessagesPerTable = 1;\n\n  // Fetch table names on mount\n  useEffect(() => {\n    const fetchTableNames = async () => {\n      try {\n        const data = await getTableNames();\n        if (Array.isArray(data.table_names)) {\n          // Filter out unwanted tables\n          const filtered = data.table_names.filter(name => ![\"sqlite_sequence\", \"Alerts\", \"TriggeredAlerts\"].includes(name));\n          setTableNames(filtered);\n        }\n      } catch (error) {\n        console.error('Error fetching table names:', error);\n        setTableNames([]);\n      }\n    };\n    fetchTableNames();\n  }, []);\n\n  // Setup socket connection and sortable\n  useEffect(() => {\n    // Establish socketIO connection\n    socketRef.current = io(BACKEND_URL);\n    socketRef.current.on('new-messages', data => {\n      if (data.messages) {\n        data.messages.forEach(displayMessage);\n      }\n    });\n\n    // Sortable initialization\n    if (messageContainerRef.current) {\n      new Sortable(messageContainerRef.current, {\n        handle: '.card-header',\n        animation: 150,\n        onStart: evt => {\n          evt.item.style.opacity = '0.5';\n        },\n        onEnd: evt => {\n          evt.item.style.opacity = '1';\n        }\n      });\n    }\n\n    // Cleanup\n    return () => {\n      if (socketRef.current) {\n        socketRef.current.disconnect();\n      }\n    };\n  }, []);\n\n  // Poll for latest messages\n  useEffect(() => {\n    const fetchLatestMessages = async () => {\n      try {\n        const batchData = await getLatestMessage();\n        if (batchData.messages) {\n          batchData.messages.forEach(displayMessage);\n        }\n      } catch (error) {\n        console.error('Message fetch error:', error);\n      }\n    };\n    const messageInterval = setInterval(fetchLatestMessages, 1000);\n    return () => clearInterval(messageInterval);\n  }, []);\n\n  // Update elapsed time display\n  useEffect(() => {\n    const updateInterval = setInterval(() => {\n      setLastReceivedTime(prev => ({\n        ...prev\n      })); // Trigger re-render\n    }, 1000);\n    return () => clearInterval(updateInterval);\n  }, []);\n  const displayMessage = data => {\n    const {\n      table_name: tableName,\n      timestamp\n    } = data;\n\n    // Prevent duplicate messages\n    setLastTimeStamp(prev => {\n      if (prev[tableName] === timestamp) return prev;\n      const newTimestamps = {\n        ...prev,\n        [tableName]: timestamp\n      };\n\n      // Update received time\n      setLastReceivedTime(prevTime => ({\n        ...prevTime,\n        [tableName]: Date.now()\n      }));\n\n      // Update messages\n      setTableMessages(prevMessages => {\n        const updatedMessages = {\n          ...prevMessages\n        };\n        if (!updatedMessages[tableName]) {\n          updatedMessages[tableName] = [];\n        }\n        updatedMessages[tableName].push(data);\n\n        // Limit to max messages per table\n        if (updatedMessages[tableName].length > maxMessagesPerTable) {\n          updatedMessages[tableName].shift();\n        }\n        return updatedMessages;\n      });\n      return newTimestamps;\n    });\n  };\n  const handleTableCheckboxChange = tableName => {\n    setCheckedTables(prev => prev.includes(tableName) ? prev.filter(name => name !== tableName) : [...prev, tableName]);\n  };\n  const formatMessageContent = msg => {\n    return Object.entries(msg.data).map(([k, v]) => {\n      if (typeof v === 'object' && v !== null && 'value' in v && 'unit' in v) {\n        return v.unit && v.unit !== \"null\" && v.unit !== \"\" ? `${k}: ${v.value} ${v.unit}` : `${k}: ${v.value}`;\n      }\n      return `${k}: ${v}`;\n    }).join('\\n');\n  };\n  const getElapsedTime = tableName => {\n    const now = Date.now();\n    const lastTime = lastReceivedTime[tableName];\n    if (!lastTime) return \"Just now\";\n    const elapsed = Math.floor((now - lastTime) / 1000);\n    if (elapsed < 60) {\n      return `${elapsed} seconds ago`;\n    }\n    return `${Math.floor(elapsed / 60)} minutes ago`;\n  };\n  const filteredTableNames = tableNames.filter(name => name.toLowerCase().includes(searchQuery.toLowerCase()));\n\n  // Determine which tables to show\n  const visibleTables = checkedTables.length === 0 ? Object.keys(tableMessages) : checkedTables;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid mt-4\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messageContainerRef,\n          className: \"large-container\",\n          id: \"messageContainer\",\n          children: Object.entries(tableMessages).filter(([tableName]) => visibleTables.includes(tableName)).map(([tableName, messages]) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card mt-3\",\n            id: `card_${tableName}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: tableName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              id: `cardBody_${tableName}`,\n              children: messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message mb-2\",\n                children: msg.timestamp !== -1 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"time-elapsed\",\n                    children: getElapsedTime(tableName)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 57\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 57\n                  }, this), formatMessageContent(msg)]\n                }, void 0, true) : \"No Messages Received\"\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 45\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 37\n            }, this)]\n          }, tableName, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"small-container\",\n          id: \"checkbox-container\",\n          style: {\n            height: '600px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              children: \"Message Types\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control mb-3\",\n              placeholder: \"Search tables...\",\n              value: searchQuery,\n              onChange: e => setSearchQuery(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n            className: \"separator\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"small-container mt-4\",\n            style: {\n              height: '350px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-container\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                id: \"table-names-form\",\n                children: filteredTableNames.map(name => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"checkbox-wrapper\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    id: `checkbox_${name}`,\n                    name: \"tableName\",\n                    value: name,\n                    checked: checkedTables.includes(name),\n                    onChange: () => handleTableCheckboxChange(name)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: `checkbox_${name}`,\n                    children: name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 249,\n                    columnNumber: 45\n                  }, this)]\n                }, name, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 41\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 181,\n    columnNumber: 9\n  }, this);\n};\n_s(DebugDashboard, \"ngqTI/dBxURTHeLzj1Bwrw3EOMU=\");\n_c = DebugDashboard;\nexport default DebugDashboard;\nvar _c;\n$RefreshReg$(_c, \"DebugDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useRef","io","Sortable","getLatestMessage","getTableNames","BACKEND_URL","jsxDEV","_jsxDEV","Fragment","_Fragment","DebugDashboard","_s","tableNames","setTableNames","checkedTables","setCheckedTables","tableMessages","setTableMessages","searchQuery","setSearchQuery","lastReceivedTime","setLastReceivedTime","lastTimeStamp","setLastTimeStamp","socketRef","messageContainerRef","maxMessagesPerTable","fetchTableNames","data","Array","isArray","table_names","filtered","filter","name","includes","error","console","current","on","messages","forEach","displayMessage","handle","animation","onStart","evt","item","style","opacity","onEnd","disconnect","fetchLatestMessages","batchData","messageInterval","setInterval","clearInterval","updateInterval","prev","table_name","tableName","timestamp","newTimestamps","prevTime","Date","now","prevMessages","updatedMessages","push","length","shift","handleTableCheckboxChange","formatMessageContent","msg","Object","entries","map","k","v","unit","value","join","getElapsedTime","lastTime","elapsed","Math","floor","filteredTableNames","toLowerCase","visibleTables","keys","className","children","ref","id","fileName","_jsxFileName","lineNumber","columnNumber","index","height","type","placeholder","onChange","e","target","checked","htmlFor","_c","$RefreshReg$"],"sources":["/home/abraa/solarcar/CANMessageLogger/src/frontend/dashboard/src/components/html/DebugDashboard.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport io from 'socket.io-client';\nimport Sortable from 'sortablejs';\nimport './DebugDashboard.css';\nimport { getLatestMessage, getTableNames, BACKEND_URL } from '../../services/flask';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nconst DebugDashboard = () => {\n    const [tableNames, setTableNames] = useState([]);\n    const [checkedTables, setCheckedTables] = useState([\"MotorCommands\", \"DashboardCommands\"]);\n    const [tableMessages, setTableMessages] = useState({});\n    const [searchQuery, setSearchQuery] = useState('');\n    const [lastReceivedTime, setLastReceivedTime] = useState({});\n    const [lastTimeStamp, setLastTimeStamp] = useState({});\n    \n    const socketRef = useRef(null);\n    const messageContainerRef = useRef(null);\n    const maxMessagesPerTable = 1;\n\n    // Fetch table names on mount\n    useEffect(() => {\n        const fetchTableNames = async () => {\n            try {\n                const data = await getTableNames();\n                if (Array.isArray(data.table_names)) {\n                    // Filter out unwanted tables\n                    const filtered = data.table_names.filter(\n                        name => ![\"sqlite_sequence\", \"Alerts\", \"TriggeredAlerts\"].includes(name)\n                    );\n                    setTableNames(filtered);\n                }\n            } catch (error) {\n                console.error('Error fetching table names:', error);\n                setTableNames([]);\n            }\n        };\n\n        fetchTableNames();\n    }, []);\n\n    // Setup socket connection and sortable\n    useEffect(() => {\n        // Establish socketIO connection\n        socketRef.current = io(BACKEND_URL);\n\n        socketRef.current.on('new-messages', (data) => {\n            if (data.messages) {\n                data.messages.forEach(displayMessage);\n            }\n        });\n\n        // Sortable initialization\n        if (messageContainerRef.current) {\n            new Sortable(messageContainerRef.current, {\n                handle: '.card-header',\n                animation: 150,\n                onStart: (evt) => {\n                    evt.item.style.opacity = '0.5';\n                },\n                onEnd: (evt) => {\n                    evt.item.style.opacity = '1';\n                }\n            });\n        }\n\n        // Cleanup\n        return () => {\n            if (socketRef.current) {\n                socketRef.current.disconnect();\n            }\n        };\n    }, []);\n\n    // Poll for latest messages\n    useEffect(() => {\n        const fetchLatestMessages = async () => {\n            try {\n                const batchData = await getLatestMessage();\n                if (batchData.messages) {\n                    batchData.messages.forEach(displayMessage);\n                }\n            } catch (error) {\n                console.error('Message fetch error:', error);\n            }\n        };\n\n        const messageInterval = setInterval(fetchLatestMessages, 1000);\n        \n        return () => clearInterval(messageInterval);\n    }, []);\n\n    // Update elapsed time display\n    useEffect(() => {\n        const updateInterval = setInterval(() => {\n            setLastReceivedTime(prev => ({ ...prev })); // Trigger re-render\n        }, 1000);\n\n        return () => clearInterval(updateInterval);\n    }, []);\n\n    const displayMessage = (data) => {\n        const { table_name: tableName, timestamp } = data;\n\n        // Prevent duplicate messages\n        setLastTimeStamp(prev => {\n            if (prev[tableName] === timestamp) return prev;\n            \n            const newTimestamps = { ...prev, [tableName]: timestamp };\n            \n            // Update received time\n            setLastReceivedTime(prevTime => ({\n                ...prevTime,\n                [tableName]: Date.now()\n            }));\n\n            // Update messages\n            setTableMessages(prevMessages => {\n                const updatedMessages = { ...prevMessages };\n                \n                if (!updatedMessages[tableName]) {\n                    updatedMessages[tableName] = [];\n                }\n\n                updatedMessages[tableName].push(data);\n                \n                // Limit to max messages per table\n                if (updatedMessages[tableName].length > maxMessagesPerTable) {\n                    updatedMessages[tableName].shift();\n                }\n\n                return updatedMessages;\n            });\n\n            return newTimestamps;\n        });\n    };\n\n    const handleTableCheckboxChange = (tableName) => {\n        setCheckedTables(prev => \n            prev.includes(tableName)\n                ? prev.filter(name => name !== tableName)\n                : [...prev, tableName]\n        );\n    };\n\n    const formatMessageContent = (msg) => {\n        return Object.entries(msg.data)\n            .map(([k, v]) => {\n                if (typeof v === 'object' && v !== null && 'value' in v && 'unit' in v) {\n                    return v.unit && v.unit !== \"null\" && v.unit !== \"\"\n                        ? `${k}: ${v.value} ${v.unit}`\n                        : `${k}: ${v.value}`;\n                }\n                return `${k}: ${v}`;\n            })\n            .join('\\n');\n    };\n\n    const getElapsedTime = (tableName) => {\n        const now = Date.now();\n        const lastTime = lastReceivedTime[tableName];\n        if (!lastTime) return \"Just now\";\n\n        const elapsed = Math.floor((now - lastTime) / 1000);\n        if (elapsed < 60) {\n            return `${elapsed} seconds ago`;\n        }\n        return `${Math.floor(elapsed / 60)} minutes ago`;\n    };\n\n    const filteredTableNames = tableNames.filter(name => \n        name.toLowerCase().includes(searchQuery.toLowerCase())\n    );\n\n    // Determine which tables to show\n    const visibleTables = checkedTables.length === 0 \n        ? Object.keys(tableMessages) \n        : checkedTables;\n\n    return (\n        <div className=\"container-fluid mt-4\">\n            <div className=\"row\">\n                {/* Left large container */}\n                <div className=\"col-md-8\">\n                    <div \n                        ref={messageContainerRef} \n                        className=\"large-container\" \n                        id=\"messageContainer\"\n                    >\n                        {Object.entries(tableMessages)\n                            .filter(([tableName]) => visibleTables.includes(tableName))\n                            .map(([tableName, messages]) => (\n                                <div \n                                    key={tableName} \n                                    className=\"card mt-3\" \n                                    id={`card_${tableName}`}\n                                >\n                                    <div className=\"card-header\">{tableName}</div>\n                                    <div className=\"card-body\" id={`cardBody_${tableName}`}>\n                                        {messages.map((msg, index) => (\n                                            <div key={index} className=\"message mb-2\">\n                                                {msg.timestamp !== -1 ? (\n                                                    <>\n                                                        <span className=\"time-elapsed\">\n                                                            {getElapsedTime(tableName)}\n                                                        </span>\n                                                        <br />\n                                                        {formatMessageContent(msg)}\n                                                    </>\n                                                ) : (\n                                                    \"No Messages Received\"\n                                                )}\n                                            </div>\n                                        ))}\n                                    </div>\n                                </div>\n                            ))\n                        }\n                    </div>\n                </div>\n\n                {/* Right smaller containers */}\n                <div className=\"col-md-4\">\n                    <div className=\"small-container\" id=\"checkbox-container\" style={{ height: '600px' }}>\n                        <div className=\"text-container\">\n                            <h5>Message Types</h5>\n                            <input\n                                type=\"text\"\n                                className=\"form-control mb-3\"\n                                placeholder=\"Search tables...\"\n                                value={searchQuery}\n                                onChange={(e) => setSearchQuery(e.target.value)}\n                            />\n                        </div>\n                        <hr className=\"separator\" />\n                        <div className=\"small-container mt-4\" style={{ height: '350px' }}>\n                            <div className=\"text-container\">\n                                <form id=\"table-names-form\">\n                                    {filteredTableNames.map(name => (\n                                        <div key={name} className=\"checkbox-wrapper\">\n                                            <input\n                                                type=\"checkbox\"\n                                                id={`checkbox_${name}`}\n                                                name=\"tableName\"\n                                                value={name}\n                                                checked={checkedTables.includes(name)}\n                                                onChange={() => handleTableCheckboxChange(name)}\n                                            />\n                                            <label htmlFor={`checkbox_${name}`}>{name}</label>\n                                        </div>\n                                    ))}\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default DebugDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}